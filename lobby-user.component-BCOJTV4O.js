import{a as q}from"./chunk-4D4ZQIIR.js";import{a as S}from"./chunk-WWFGJIL7.js";import{A as B,B as D,C as G,H as V,I as y,N as z,O as K,P as $,j as F,r as T,y as j,z as P}from"./chunk-MY5GYTRH.js";import{Ka as u,Na as o,Ra as w,Ta as g,Ua as p,Va as l,Wa as x,Za as A,ab as L,bb as N,ha as k,jb as b,kb as E,na as O,nc as h,oa as I,ub as M,xb as R,yb as U}from"./chunk-KLCY7QU5.js";import{g as m,i as d,j as C}from"./chunk-LKY6D2P2.js";function et(r,n){if(r&1){let _=A();p(0,"div")(1,"button",7),L("click",function(){let s=O(_).$implicit,J=N();return I(J.goToLink(s.url))}),b(2),l()()}if(r&2){let _=n.$implicit;u(1),g("disabled",!1),u(1),E(_.name)}}var it=function(){return["/login"]},yt=(()=>{var n,W,c,X,s,Y,v,H;let a=class{constructor(e,t,i,f,Q,Z,tt){m(this,n);m(this,c);m(this,s);m(this,v);this.validateUser=e,this.sessionCookieService=t,this.userIdle=i,this.router=f,this._permissionStore=Q,this.service=Z,this._envStore=tt}ngOnInit(){q.charAt(0),this.validateUser.idRol=this._permissionStore.value.idRol,this.validateUser.cookieExistence=this.sessionCookieService.checkCookies(h.NAME_COOKIE),d(this,n,W).call(this),this.userIdle.startWatching(),this.userIdle.onTimerStart().subscribe(()=>{this.sessionCookieService.deleteCookie(h.NAME_COOKIE),this.validateUser.seeAlert=6,this.router.navigate([G.LOGIN])})}goToLink(e){window.location.href=e}},r=a;return n=new WeakSet,W=function(){return C(this,null,function*(){this.validateUser.cookieExistence&&(this.validateUser.permisos=yield this.service.getPermiss(this.validateUser.idRol),this.optionFind=d(this,s,Y).call(this,this.validateUser.permisos))})},c=new WeakSet,X=function(e){if(e.permission[0].children){let t=e.permission[0].children;return h.PORTAL_TRANSACCIONAL+this._envStore.env.DOMAIN+"/portal"+t[0].router.link}else{let t=e.permission[0];return h.PORTAL_TRANSACCIONAL+this._envStore.env.DOMAIN+"/portal"+t.router.link}},s=new WeakSet,Y=function(e){let t=[];for(let i of e)if(i.origin==="transaccional"){let f={name:"Portal transaccional",url:d(this,c,X).call(this,i)};t.push(f)}else i.origin==="shiny"&&(t=t.concat(d(this,v,H).call(this,i.permission)));return t},v=new WeakSet,H=function(e){let t=[];for(let i of e){let f={name:i.name,url:i.router.link};t.push(f)}return t},(()=>{a.\u0275fac=function(t){return new(t||a)(o(K),o(y),o(S),o(j),o($),o(z),o(V))}})(),(()=>{a.\u0275cmp=k({type:a,selectors:[["app-lobby-user"]],standalone:!0,features:[M([S,y]),R],decls:10,vars:3,consts:[[1,"row"],[1,"col-xl-4","col-lg-3","col-md-2"],[1,"col-xl-4","col-lg-6","col-md-8","col-sm-12","mt-2","align-items-center"],[1,"div_title"],["routerLinkActive","router-link-active",1,"title",3,"routerLink"],[1,"subtitle"],[4,"ngFor","ngForOf"],["type","submit",1,"btningresar","btn","btn-lg","btn-block",3,"disabled","click"]],template:function(t,i){t&1&&(p(0,"div",0),x(1,"div",1),p(2,"div",2)(3,"div",3)(4,"label",4),b(5,"Bienvenido al portal SoyYo"),l(),p(6,"label",5),b(7,"Selecciona la opci\xF3n a la cual quieres ingresar"),l()(),w(8,et,3,2,"div",6),l(),x(9,"div",1),l()),t&2&&(u(4),g("routerLink",U(2,it)),u(4),g("ngForOf",i.optionFind))},dependencies:[T,F,D,P,B],styles:['@font-face{font-family:nunito-bold;src:url(/assets/fonts/Nunito-Bold.ttf) format("truetype");font-weight:400}@font-face{font-family:nunito-regular;src:url(/assets/fonts/Nunito-Regular.ttf) format("truetype");font-weight:400}@font-face{font-family:nunito-light;src:url(/assets/fonts/Nunito-Light.ttf) format("truetype");font-weight:400}@font-face{font-family:nunito-extra-bold;src:url(/assets/fonts/Nunito-ExtraBold.ttf) format("truetype");font-weight:400}@font-face{font-family:montserrat-regular;src:url(/assets/fonts/Montserrat-Regular.otf) format("truetype");font-weight:400}@font-face{font-family:montserrat-semibold;src:url(/assets/fonts/Montserrat-SemiBold.otf) format("truetype");font-weight:400}@font-face{font-family:montserrat-bold;src:url(/assets/fonts/Montserrat-Bold.otf) format("truetype");font-weight:400}.title[_ngcontent-%COMP%]{font-family:montserrat-bold;font-weight:700;font-size:25px;color:#5a33ff}.div_title[_ngcontent-%COMP%]{margin:50px 0 15px;text-align:center}.subtitle[_ngcontent-%COMP%]{font-family:montserrat-regular;font-weight:700;font-size:15px;color:#58565d;line-height:21px}.btningresar[_ngcontent-%COMP%]{border-radius:10px;background-color:#5a33ff;color:#fff;font-family:montserrat-bold;font-weight:400;font-size:16px;letter-spacing:0;line-height:19px;text-align:center;border-width:0;padding:20px;margin-top:30px;box-shadow:none}']})})(),r})();export{yt as LobbyUserComponent};
